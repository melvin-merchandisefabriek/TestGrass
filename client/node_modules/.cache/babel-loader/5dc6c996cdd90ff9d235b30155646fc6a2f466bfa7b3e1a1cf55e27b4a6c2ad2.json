{"ast":null,"code":"import React,{useRef,useEffect}from'react';import{sharedAnimatedTrianglesConfig}from'./SharedAnimatedTrianglesDefs';// This component renders two animated triangles that share vertices in a single WebGL2 draw call.\n// The triangles share a base (bottom edge), so the vertex array is:\n//   v0 (top1), v1 (left), v2 (right), v3 (top2)\n// Triangle 1: v0, v1, v2\n// Triangle 2: v3, v1, v2\nimport{jsx as _jsx}from\"react/jsx-runtime\";const SharedAnimatedTriangles=()=>{const canvasRef=useRef();useEffect(()=>{const canvas=canvasRef.current;function resizeCanvas(){canvas.width=window.innerWidth;canvas.height=window.innerHeight;}resizeCanvas();window.addEventListener('resize',resizeCanvas);const gl=canvas.getContext('webgl2');if(!gl)return;// --- Click detection ---\nfunction getNDCFromMouse(event){const rect=canvas.getBoundingClientRect();const x=(event.clientX-rect.left)/canvas.width*2-1;const y=-((event.clientY-rect.top)/canvas.height*2-1);return[x,y];}// Barycentric point-in-triangle test\nfunction pointInTriangle(px,py,ax,ay,bx,by,cx,cy){const v0x=cx-ax,v0y=cy-ay;const v1x=bx-ax,v1y=by-ay;const v2x=px-ax,v2y=py-ay;const dot00=v0x*v0x+v0y*v0y;const dot01=v0x*v1x+v0y*v1y;const dot02=v0x*v2x+v0y*v2y;const dot11=v1x*v1x+v1y*v1y;const dot12=v1x*v2x+v1y*v2y;const invDenom=1/(dot00*dot11-dot01*dot01);const u=(dot11*dot02-dot01*dot12)*invDenom;const v=(dot00*dot12-dot01*dot02)*invDenom;return u>=0&&v>=0&&u+v<1;}// Store the latest animated positions for hit testing\nlet animatedPositions=new Float32Array(sharedAnimatedTrianglesConfig.vertices.length);function handleClick(event){const[x,y]=getNDCFromMouse(event);const idx=sharedAnimatedTrianglesConfig.indices;let found=false;for(let i=0;i<idx.length;i+=3){const ia=idx[i]*4,ib=idx[i+1]*4,ic=idx[i+2]*4;const ax=animatedPositions[ia],ay=animatedPositions[ia+1];const bx=animatedPositions[ib],by=animatedPositions[ib+1];const cx=animatedPositions[ic],cy=animatedPositions[ic+1];if(pointInTriangle(x,y,ax,ay,bx,by,cx,cy)){clicked=1;found=true;break;}}if(!found)clicked=0;}canvas.addEventListener('click',handleClick);// Vertex shader: animate both top vertices independently using their index\nconst vsSource=`#version 300 es\n      in vec2 position;\n      in float isTop;\n      in float triIndex;\n      uniform float time;\n      uniform float uClicked;\n      out float vY;\n      void main() {\n        vec2 pos = position;\n        ${sharedAnimatedTrianglesConfig.positionExpr}\n        vY = pos.y;\n        gl_Position = vec4(pos, 0.0, 1.0);\n      }\n    `;const fsSource=`#version 300 es\n      precision mediump float;\n      in float vY;\n      uniform float uClicked;\n      out vec4 outColor;\n      void main() {\n        ${sharedAnimatedTrianglesConfig.colorExpr}\n        if (uClicked > 0.5) {\n          outColor = mix(outColor, vec4(1.0, 0.0, 0.0, 1.0), 0.5);\n        }\n      }\n    `;function compileShader(type,source){const shader=gl.createShader(type);gl.shaderSource(shader,source);gl.compileShader(shader);if(!gl.getShaderParameter(shader,gl.COMPILE_STATUS)){throw new Error(gl.getShaderInfoLog(shader));}return shader;}const vs=compileShader(gl.VERTEX_SHADER,vsSource);const fs=compileShader(gl.FRAGMENT_SHADER,fsSource);const program=gl.createProgram();gl.attachShader(program,vs);gl.attachShader(program,fs);gl.linkProgram(program);gl.useProgram(program);// Import vertex and index data\nconst vertices=sharedAnimatedTrianglesConfig.vertices;const indices=sharedAnimatedTrianglesConfig.indices;const vao=gl.createVertexArray();gl.bindVertexArray(vao);const vbo=gl.createBuffer();gl.bindBuffer(gl.ARRAY_BUFFER,vbo);gl.bufferData(gl.ARRAY_BUFFER,vertices,gl.STATIC_DRAW);const ebo=gl.createBuffer();gl.bindBuffer(gl.ELEMENT_ARRAY_BUFFER,ebo);gl.bufferData(gl.ELEMENT_ARRAY_BUFFER,indices,gl.STATIC_DRAW);// Attribute pointers\nconst posLoc=gl.getAttribLocation(program,'position');gl.enableVertexAttribArray(posLoc);gl.vertexAttribPointer(posLoc,2,gl.FLOAT,false,16,0);const isTopLoc=gl.getAttribLocation(program,'isTop');gl.enableVertexAttribArray(isTopLoc);gl.vertexAttribPointer(isTopLoc,1,gl.FLOAT,false,16,8);const triIndexLoc=gl.getAttribLocation(program,'triIndex');gl.enableVertexAttribArray(triIndexLoc);gl.vertexAttribPointer(triIndexLoc,1,gl.FLOAT,false,16,12);const timeLoc=gl.getUniformLocation(program,'time');const uClickedLoc=gl.getUniformLocation(program,'uClicked');let clicked=0;function render(time){gl.viewport(0,0,canvas.width,canvas.height);gl.clearColor(0,0,0,1);gl.clear(gl.COLOR_BUFFER_BIT);gl.useProgram(program);gl.bindVertexArray(vao);gl.uniform1f(timeLoc,time);gl.uniform1f(uClickedLoc,clicked);gl.drawElements(gl.TRIANGLES,9,gl.UNSIGNED_SHORT,0);// Calculate animated positions for hit testing\nconst verts=sharedAnimatedTrianglesConfig.vertices;for(let i=0;i<verts.length;i+=4){// Copy original\nlet px=verts[i];let py=verts[i+1];let triIndex=verts[i+3];// Apply the same animation as in the shader\nlet t=(Math.sin(time*0.001+triIndex*1.5)+1.0)*0.5;px=px+t*py;animatedPositions[i]=px;animatedPositions[i+1]=py;}requestAnimationFrame(render);}render(0);return()=>{window.removeEventListener('resize',resizeCanvas);canvas.removeEventListener('click',handleClick);};},[]);return/*#__PURE__*/_jsx(\"canvas\",{ref:canvasRef,style:{width:\"100vw\",height:\"100vh\",display:'block',margin:0,padding:0}});};export default SharedAnimatedTriangles;","map":{"version":3,"names":["React","useRef","useEffect","sharedAnimatedTrianglesConfig","jsx","_jsx","SharedAnimatedTriangles","canvasRef","canvas","current","resizeCanvas","width","window","innerWidth","height","innerHeight","addEventListener","gl","getContext","getNDCFromMouse","event","rect","getBoundingClientRect","x","clientX","left","y","clientY","top","pointInTriangle","px","py","ax","ay","bx","by","cx","cy","v0x","v0y","v1x","v1y","v2x","v2y","dot00","dot01","dot02","dot11","dot12","invDenom","u","v","animatedPositions","Float32Array","vertices","length","handleClick","idx","indices","found","i","ia","ib","ic","clicked","vsSource","positionExpr","fsSource","colorExpr","compileShader","type","source","shader","createShader","shaderSource","getShaderParameter","COMPILE_STATUS","Error","getShaderInfoLog","vs","VERTEX_SHADER","fs","FRAGMENT_SHADER","program","createProgram","attachShader","linkProgram","useProgram","vao","createVertexArray","bindVertexArray","vbo","createBuffer","bindBuffer","ARRAY_BUFFER","bufferData","STATIC_DRAW","ebo","ELEMENT_ARRAY_BUFFER","posLoc","getAttribLocation","enableVertexAttribArray","vertexAttribPointer","FLOAT","isTopLoc","triIndexLoc","timeLoc","getUniformLocation","uClickedLoc","render","time","viewport","clearColor","clear","COLOR_BUFFER_BIT","uniform1f","drawElements","TRIANGLES","UNSIGNED_SHORT","verts","triIndex","t","Math","sin","requestAnimationFrame","removeEventListener","ref","style","display","margin","padding"],"sources":["/home/melvinvanelderen/TestGrass/client/src/components/SharedAnimatedTriangles.js"],"sourcesContent":["import React, { useRef, useEffect } from 'react';\nimport { sharedAnimatedTrianglesConfig } from './SharedAnimatedTrianglesDefs';\n\n// This component renders two animated triangles that share vertices in a single WebGL2 draw call.\n// The triangles share a base (bottom edge), so the vertex array is:\n//   v0 (top1), v1 (left), v2 (right), v3 (top2)\n// Triangle 1: v0, v1, v2\n// Triangle 2: v3, v1, v2\n\nconst SharedAnimatedTriangles = () => {\n  const canvasRef = useRef();\n\n  useEffect(() => {\n    const canvas = canvasRef.current;\n    function resizeCanvas() {\n      canvas.width = window.innerWidth;\n      canvas.height = window.innerHeight;\n    }\n    resizeCanvas();\n    window.addEventListener('resize', resizeCanvas);\n    const gl = canvas.getContext('webgl2');\n    if (!gl) return;\n\n    // --- Click detection ---\n    function getNDCFromMouse(event) {\n      const rect = canvas.getBoundingClientRect();\n      const x = ((event.clientX - rect.left) / canvas.width) * 2 - 1;\n      const y = -(((event.clientY - rect.top) / canvas.height) * 2 - 1);\n      return [x, y];\n    }\n    // Barycentric point-in-triangle test\n    function pointInTriangle(px, py, ax, ay, bx, by, cx, cy) {\n      const v0x = cx - ax, v0y = cy - ay;\n      const v1x = bx - ax, v1y = by - ay;\n      const v2x = px - ax, v2y = py - ay;\n      const dot00 = v0x * v0x + v0y * v0y;\n      const dot01 = v0x * v1x + v0y * v1y;\n      const dot02 = v0x * v2x + v0y * v2y;\n      const dot11 = v1x * v1x + v1y * v1y;\n      const dot12 = v1x * v2x + v1y * v2y;\n      const invDenom = 1 / (dot00 * dot11 - dot01 * dot01);\n      const u = (dot11 * dot02 - dot01 * dot12) * invDenom;\n      const v = (dot00 * dot12 - dot01 * dot02) * invDenom;\n      return u >= 0 && v >= 0 && (u + v < 1);\n    }\n    // Store the latest animated positions for hit testing\n    let animatedPositions = new Float32Array(sharedAnimatedTrianglesConfig.vertices.length);\n\n    function handleClick(event) {\n      const [x, y] = getNDCFromMouse(event);\n      const idx = sharedAnimatedTrianglesConfig.indices;\n      let found = false;\n      for (let i = 0; i < idx.length; i += 3) {\n        const ia = idx[i] * 4, ib = idx[i+1] * 4, ic = idx[i+2] * 4;\n        const ax = animatedPositions[ia], ay = animatedPositions[ia+1];\n        const bx = animatedPositions[ib], by = animatedPositions[ib+1];\n        const cx = animatedPositions[ic], cy = animatedPositions[ic+1];\n        if (pointInTriangle(x, y, ax, ay, bx, by, cx, cy)) {\n          clicked = 1;\n          found = true;\n          break;\n        }\n      }\n      if (!found) clicked = 0;\n    }\n    canvas.addEventListener('click', handleClick);\n\n    // Vertex shader: animate both top vertices independently using their index\n    const vsSource = `#version 300 es\n      in vec2 position;\n      in float isTop;\n      in float triIndex;\n      uniform float time;\n      uniform float uClicked;\n      out float vY;\n      void main() {\n        vec2 pos = position;\n        ${sharedAnimatedTrianglesConfig.positionExpr}\n        vY = pos.y;\n        gl_Position = vec4(pos, 0.0, 1.0);\n      }\n    `;\n    const fsSource = `#version 300 es\n      precision mediump float;\n      in float vY;\n      uniform float uClicked;\n      out vec4 outColor;\n      void main() {\n        ${sharedAnimatedTrianglesConfig.colorExpr}\n        if (uClicked > 0.5) {\n          outColor = mix(outColor, vec4(1.0, 0.0, 0.0, 1.0), 0.5);\n        }\n      }\n    `;\n    function compileShader(type, source) {\n      const shader = gl.createShader(type);\n      gl.shaderSource(shader, source);\n      gl.compileShader(shader);\n      if (!gl.getShaderParameter(shader, gl.COMPILE_STATUS)) {\n        throw new Error(gl.getShaderInfoLog(shader));\n      }\n      return shader;\n    }\n    const vs = compileShader(gl.VERTEX_SHADER, vsSource);\n    const fs = compileShader(gl.FRAGMENT_SHADER, fsSource);\n    const program = gl.createProgram();\n    gl.attachShader(program, vs);\n    gl.attachShader(program, fs);\n    gl.linkProgram(program);\n    gl.useProgram(program);\n\n    // Import vertex and index data\n    const vertices = sharedAnimatedTrianglesConfig.vertices;\n    const indices = sharedAnimatedTrianglesConfig.indices;\n    const vao = gl.createVertexArray();\n    gl.bindVertexArray(vao);\n    const vbo = gl.createBuffer();\n    gl.bindBuffer(gl.ARRAY_BUFFER, vbo);\n    gl.bufferData(gl.ARRAY_BUFFER, vertices, gl.STATIC_DRAW);\n    const ebo = gl.createBuffer();\n    gl.bindBuffer(gl.ELEMENT_ARRAY_BUFFER, ebo);\n    gl.bufferData(gl.ELEMENT_ARRAY_BUFFER, indices, gl.STATIC_DRAW);\n    // Attribute pointers\n    const posLoc = gl.getAttribLocation(program, 'position');\n    gl.enableVertexAttribArray(posLoc);\n    gl.vertexAttribPointer(posLoc, 2, gl.FLOAT, false, 16, 0);\n    const isTopLoc = gl.getAttribLocation(program, 'isTop');\n    gl.enableVertexAttribArray(isTopLoc);\n    gl.vertexAttribPointer(isTopLoc, 1, gl.FLOAT, false, 16, 8);\n    const triIndexLoc = gl.getAttribLocation(program, 'triIndex');\n    gl.enableVertexAttribArray(triIndexLoc);\n    gl.vertexAttribPointer(triIndexLoc, 1, gl.FLOAT, false, 16, 12);\n    const timeLoc = gl.getUniformLocation(program, 'time');\n    const uClickedLoc = gl.getUniformLocation(program, 'uClicked');\n    let clicked = 0;\n\n    function render(time) {\n      gl.viewport(0, 0, canvas.width, canvas.height);\n      gl.clearColor(0, 0, 0, 1);\n      gl.clear(gl.COLOR_BUFFER_BIT);\n      gl.useProgram(program);\n      gl.bindVertexArray(vao);\n      gl.uniform1f(timeLoc, time);\n      gl.uniform1f(uClickedLoc, clicked);\n      gl.drawElements(gl.TRIANGLES, 9, gl.UNSIGNED_SHORT, 0);\n\n      // Calculate animated positions for hit testing\n      const verts = sharedAnimatedTrianglesConfig.vertices;\n      for (let i = 0; i < verts.length; i += 4) {\n        // Copy original\n        let px = verts[i];\n        let py = verts[i+1];\n        let triIndex = verts[i+3];\n        // Apply the same animation as in the shader\n        let t = (Math.sin(time * 0.001 + triIndex * 1.5) + 1.0) * 0.5;\n        px = px + t * py;\n        animatedPositions[i] = px;\n        animatedPositions[i+1] = py;\n      }\n\n      requestAnimationFrame(render);\n    }\n    render(0);\n    return () => {\n      window.removeEventListener('resize', resizeCanvas);\n      canvas.removeEventListener('click', handleClick);\n    };\n  }, []);\n\n  return <canvas ref={canvasRef} style={{ width: \"100vw\", height: \"100vh\", display: 'block', margin: 0, padding: 0 }} />;\n};\n\nexport default SharedAnimatedTriangles;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}