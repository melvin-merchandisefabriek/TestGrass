{"ast":null,"code":"import React,{useRef,useEffect}from'react';import{jsx as _jsx}from\"react/jsx-runtime\";const AnimatedWebGLTriangle=()=>{const canvasRef=useRef();useEffect(()=>{const canvas=canvasRef.current;canvas.width=400;canvas.height=400;const gl=canvas.getContext('webgl2');if(!gl)return;// Vertex shader: animate top vertex x in the shader using time uniform (WebGL2/GLSL 3.00)\nconst vsSource=`#version 300 es\n      in vec2 position;\n      uniform float time;\n      void main() {\n        vec2 pos = position;\n        if (pos.y > 0.0) {\n          float t = (sin(time * 0.001) + 1.0) * 0.5;\n          pos.x = -0.8 + t * 1.6;\n        }\n        gl_Position = vec4(pos, 0.0, 1.0);\n      }\n    `;// Fragment shader (WebGL2/GLSL 3.00)\nconst fsSource=`#version 300 es\n      precision mediump float;\n      out vec4 outColor;\n      void main() {\n        outColor = vec4(0.2, 0.7, 1.0, 1.0);\n      }\n    `;function compileShader(type,source){const shader=gl.createShader(type);gl.shaderSource(shader,source);gl.compileShader(shader);if(!gl.getShaderParameter(shader,gl.COMPILE_STATUS)){throw new Error(gl.getShaderInfoLog(shader));}return shader;}const vs=compileShader(gl.VERTEX_SHADER,vsSource);const fs=compileShader(gl.FRAGMENT_SHADER,fsSource);const program=gl.createProgram();gl.attachShader(program,vs);gl.attachShader(program,fs);gl.linkProgram(program);gl.useProgram(program);// Triangle vertices (NDC)\nconst vertices=new Float32Array([0.0,0.8,// top vertex (will animate x)\n-0.8,-0.8,// left\n0.8,-0.8// right\n]);const buffer=gl.createBuffer();gl.bindBuffer(gl.ARRAY_BUFFER,buffer);gl.bufferData(gl.ARRAY_BUFFER,vertices,gl.STATIC_DRAW);const posLoc=gl.getAttribLocation(program,'position');// For WebGL2, use getAttribLocation and enableVertexAttribArray as before, but bind to 'in' variable\ngl.enableVertexAttribArray(posLoc);gl.vertexAttribPointer(posLoc,2,gl.FLOAT,false,0,0);const timeLoc=gl.getUniformLocation(program,'time');function render(time){gl.viewport(0,0,canvas.width,canvas.height);gl.clearColor(0,0,0,1);gl.clear(gl.COLOR_BUFFER_BIT);gl.useProgram(program);gl.uniform1f(timeLoc,time);gl.drawArrays(gl.TRIANGLES,0,3);requestAnimationFrame(render);}render(0);},[]);return/*#__PURE__*/_jsx(\"canvas\",{ref:canvasRef,style:{width:400,height:400,display:'block',margin:'2rem auto'}});};export default AnimatedWebGLTriangle;","map":{"version":3,"names":["React","useRef","useEffect","jsx","_jsx","AnimatedWebGLTriangle","canvasRef","canvas","current","width","height","gl","getContext","vsSource","fsSource","compileShader","type","source","shader","createShader","shaderSource","getShaderParameter","COMPILE_STATUS","Error","getShaderInfoLog","vs","VERTEX_SHADER","fs","FRAGMENT_SHADER","program","createProgram","attachShader","linkProgram","useProgram","vertices","Float32Array","buffer","createBuffer","bindBuffer","ARRAY_BUFFER","bufferData","STATIC_DRAW","posLoc","getAttribLocation","enableVertexAttribArray","vertexAttribPointer","FLOAT","timeLoc","getUniformLocation","render","time","viewport","clearColor","clear","COLOR_BUFFER_BIT","uniform1f","drawArrays","TRIANGLES","requestAnimationFrame","ref","style","display","margin"],"sources":["/home/melvinvanelderen/TestGrass/client/src/components/AnimatedWebGLTriangle.js"],"sourcesContent":["import React, { useRef, useEffect } from 'react';\n\nconst AnimatedWebGLTriangle = () => {\n  const canvasRef = useRef();\n\n  useEffect(() => {\n    const canvas = canvasRef.current;\n    canvas.width = 400;\n    canvas.height = 400;\n    const gl = canvas.getContext('webgl2');\n    if (!gl) return;\n\n    // Vertex shader: animate top vertex x in the shader using time uniform (WebGL2/GLSL 3.00)\n    const vsSource = `#version 300 es\n      in vec2 position;\n      uniform float time;\n      void main() {\n        vec2 pos = position;\n        if (pos.y > 0.0) {\n          float t = (sin(time * 0.001) + 1.0) * 0.5;\n          pos.x = -0.8 + t * 1.6;\n        }\n        gl_Position = vec4(pos, 0.0, 1.0);\n      }\n    `;\n    // Fragment shader (WebGL2/GLSL 3.00)\n    const fsSource = `#version 300 es\n      precision mediump float;\n      out vec4 outColor;\n      void main() {\n        outColor = vec4(0.2, 0.7, 1.0, 1.0);\n      }\n    `;\n    function compileShader(type, source) {\n      const shader = gl.createShader(type);\n      gl.shaderSource(shader, source);\n      gl.compileShader(shader);\n      if (!gl.getShaderParameter(shader, gl.COMPILE_STATUS)) {\n        throw new Error(gl.getShaderInfoLog(shader));\n      }\n      return shader;\n    }\n    const vs = compileShader(gl.VERTEX_SHADER, vsSource);\n    const fs = compileShader(gl.FRAGMENT_SHADER, fsSource);\n    const program = gl.createProgram();\n    gl.attachShader(program, vs);\n    gl.attachShader(program, fs);\n    gl.linkProgram(program);\n    gl.useProgram(program);\n\n    // Triangle vertices (NDC)\n    const vertices = new Float32Array([\n      0.0,  0.8,   // top vertex (will animate x)\n     -0.8, -0.8,   // left\n      0.8, -0.8    // right\n    ]);\n    const buffer = gl.createBuffer();\n    gl.bindBuffer(gl.ARRAY_BUFFER, buffer);\n    gl.bufferData(gl.ARRAY_BUFFER, vertices, gl.STATIC_DRAW);\n    const posLoc = gl.getAttribLocation(program, 'position');\n    // For WebGL2, use getAttribLocation and enableVertexAttribArray as before, but bind to 'in' variable\n    gl.enableVertexAttribArray(posLoc);\n    gl.vertexAttribPointer(posLoc, 2, gl.FLOAT, false, 0, 0);\n\n    const timeLoc = gl.getUniformLocation(program, 'time');\n\n    function render(time) {\n      gl.viewport(0, 0, canvas.width, canvas.height);\n      gl.clearColor(0, 0, 0, 1);\n      gl.clear(gl.COLOR_BUFFER_BIT);\n      gl.useProgram(program);\n      gl.uniform1f(timeLoc, time);\n      gl.drawArrays(gl.TRIANGLES, 0, 3);\n      requestAnimationFrame(render);\n    }\n    render(0);\n  }, []);\n\n  return <canvas ref={canvasRef} style={{ width: 400, height: 400, display: 'block', margin: '2rem auto' }} />;\n};\n\nexport default AnimatedWebGLTriangle;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}