"use strict";(self.webpackChunktest_grass_client=self.webpackChunktest_grass_client||[]).push([[657],{657:(i,t,o)=>{o.d(t,{applyShapeModifications:()=>n,loadModifications:()=>s});const n=(i,t)=>{if(!i||!t)return i;const o=JSON.parse(JSON.stringify(i));var n;t.modifyPosition&&(t.modifyPosition.svg&&(o.position||(o.position={}),o.position.svg={...t.modifyPosition.svg}),t.modifyPosition.global&&(o.position||(o.position={}),o.position.global={...t.modifyPosition.global}),("number"===typeof t.modifyPosition.x||"number"===typeof t.modifyPosition.y)&&null!==(n=o.position)&&void 0!==n&&n.global&&(o.position.global.x+=t.modifyPosition.x||0,o.position.global.y+=t.modifyPosition.y||0));if(t.modifyControlPoints&&Object.entries(t.modifyControlPoints).forEach(i=>{let[t,n]=i;const s=o.controlPoints.find(i=>i.id===t);s&&(n.xOffset&&(s.x+=n.xOffset),n.yOffset&&(s.y+=n.yOffset))}),t.styleChanges&&Object.entries(t.styleChanges).forEach(i=>{let[t,n]=i;const s=o.segments.find(i=>i.id===t);s&&(s.style={...s.style,...n})}),t.style&&(o.style={...o.style,...t.style}),"undefined"!==typeof t.fillPath&&(o.fillPath=t.fillPath),"undefined"!==typeof t.closePath&&(o.closePath=t.closePath),t.viewBox&&(o.viewBox=t.viewBox),"undefined"!==typeof t.width&&(o.width=t.width),"undefined"!==typeof t.height&&(o.height=t.height),t.displayOptions&&(o.displayOptions={...o.displayOptions||{},...t.displayOptions}),i.variables||t.variables){let n=i.variables||[],s=t.variables||[];Array.isArray(n)||(n=[n]),Array.isArray(s)||(s=[s]);const a={};n.forEach(i=>{const t=Object.keys(i)[0];a[t]=i[t]}),s.forEach(i=>{const t=Object.keys(i)[0];a[t]=i[t]}),o.variables=Object.entries(a).map(i=>{let[t,o]=i;return{[t]:o}})}return t.style&&Object.keys(t.style).forEach(i=>{const o=t.style[i];"string"===typeof o&&o.includes("${")&&(t.animations?t.animations.styleAnimations||(t.animations.styleAnimations={}):t.animations={styleAnimations:{}},t.animations.styleAnimations[i]=o,t.style[i]=o.replace(/\${(.*?)}/g,"0"))}),t.animations&&(o.animations={duration:t.animations.duration||5,loops:t.animations.loops||0,controlPointAnimations:{},styleAnimations:t.animations.styleAnimations||{}},t.animations.controlPointAnimations&&(o.animations.controlPointAnimations=JSON.parse(JSON.stringify(t.animations.controlPointAnimations))),t.animations.positionAnimations&&(o.animations.positionAnimations=JSON.parse(JSON.stringify(t.animations.positionAnimations))),t.animations.styleAnimations&&(o.animations.styleAnimations=JSON.parse(JSON.stringify(t.animations.styleAnimations)))),o},s=async i=>{try{const t=await fetch(i);if(!t.ok)throw new Error(`Failed to load modifications: ${t.status}`);return await t.json()}catch(t){return console.error("Error loading modifications:",t),null}}}}]);
//# sourceMappingURL=657.70487246.chunk.js.map